<!DOCTYPE html>

<html>
  <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <script src="../libs/js/react-libs-cdn.js"></script>
      <link href="../libs/css/bulma-cdn.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <style>
        html,body { height:100%; }
        #main {
            background-color:whitesmoke;
            max-width: 900px;
            margin: 0 auto;
            min-height: 100%;
            position: relative
        }
        #content {
            padding-left: 1.5rem;
            padding-right: 1.5rem;
            padding-top: 3.2rem;
        }
        #footer {
            position: absolute;
            bottom: 0;
            width: 100%;
        }
    </style>

    <html>
        <div id="main">
            <div id="header"></div>
            
            <div id="content"></div>

            <div id="footer"></div>
        </div>
    </html>     

    <script type="text/babel">
        
        class HearSection extends React.Component {
            render() {
                return (
                    <div>
                        <div className="hero is-primary">
                            <div className="hero-body">
                                <div className="has-text-centered">
                                    <h1 className="title">
                                        Screen Size Calculator
                                    </h1>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }
        }

        class SreenSizeInput extends React.Component {
            render() {
                return (
                    <div className="columns is-gapless">
                        <div className="colume">
                            <label className="label">The Screen Size:</label>
                            <input className="input" type="text" placeholder="Input the size in inch" />
                        </div>
                    </div>
                );
            }
        }

        class ScreenSizeRatioInput extends React.Component {
            render() {
                return (
                    <div className="columns is-gapless">
                        <div className="column">
                            <label className="label">The Screen Size Ratio:</label>                      
                            <div className="columns">
                                <div className="column">                                  
                                    <input className="input" type="text" placeholder="Width" />
                                </div>
                                <div className="column">
                                    <input className="input" type="text" placeholder="Height" />
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }
        }

        class CalculateButton extends React.Component {
            render() {
                return (
                    <div className="level">
                        <div className="level-left">                            
                            <div className="level-item">
                                <a className="button is-primary">Calculate</a>
                            </div>
                        </div>
                        <div className="level-right">
                        </div>    
                    </div>
                );
            }
        }

        class Chart extends React.Component {
            render() {
                var chartStyle = { height : 13.6 + 'rem' };

                return (
                    <div className="box" style={ chartStyle }>
                    </div>
                );
            }
        }

        class ResultText extends React.Component {
            render() {
                var spanStyle = { marginRight : 1.4 + 'rem' };

                return (
                    <div className="level">
                        <div className="level-item has-text-centered">
                            <div>
                                <span style={ spanStyle }><strong>Width : </strong><span id="widthResult">0</span> cm</span>
                                <span><strong>Height : </strong><span id="heightResult">0</span> cm</span>
                            </div>
                        </div>
                    </div>
                );
            }
        }

        class ResultContainer extends React.Component {
            render() {
                alert(this.props.screenSize);
                return (
                    <div>
                        <Chart />
                        <ResultText />
                    </div>
                );
            }
        }

        class CalculatorContainer extends React.Component {
            constructor(props) {
                super(props);
                this.state = {screenSize : '0',
                                widthRatio : '0',
                                heightRatio : '0'};
            }

            render() {
                const screenSize = this.state.screenSize;
                const widthRatio = this.state.widthRatio;
                const heightRatio = this.state.heightRatio;
                return (
                    <div>
                        <div className="columns">
                            <div className="column is-5">
                                <SreenSizeInput />
                                <ScreenSizeRatioInput />
                                <CalculateButton />
                            </div>
                            <div className="column is-7">
                                <ResultContainer screenSize={parseFloat(screenSize)}
                                                widthRatio={parseFloat(widthRatio)}
                                                heightRatio={parseFloat(heightRatio)}/>
                            </div>
                        </div>
                    </div>
                );
            }
        }

        class FooterSection extends React.Component {
            render() {
                var style = {paddingTop: 1.5 + 'rem', paddingBottom: 1.5 + 'rem'};
                return (
                    <footer className="footer" style = { style }>
                        <div className="content has-text-centered">
                            <p>
                            <strong>A Work</strong> by <a href="https://github.com/yangyangxian">Yang Yang</a>. CSS style powered by <a href="https://bulma.io/">Bulma</a>
                            </p>
                        </div>
                    </footer>
                );
            }
        }

        ReactDOM.render(
            <HearSection />,
            document.getElementById('header')
        );

        ReactDOM.render(
            <CalculatorContainer />,
            document.getElementById('content')
        );

        ReactDOM.render(
            <FooterSection />,
            document.getElementById('footer')
        );

    </script>
  </body>
</html>